classDiagram

    KernelAgent
    OpenAIAssistantDefinition
    OpenAIAssistantDefinition --> OpenAIExecutionSettings
    OpenAIExecutionSettings
    OpenAIServiceConfiguration
    OpenAIAssistantInvocationSettings
    OpenAIThreadCreationSettings

    KernelAgent <|-- OpenAIAssistantAgent
    OpenAIAssistantAgent --> OpenAIAssistantDefinition
    OpenAIAssistantAgent ..> OpenAIAssistantInvocationSettings
    OpenAIAssistantAgent ..> OpenAIThreadCreationSettings
    OpenAIAssistantAgent ..> OpenAIServiceConfiguration
    OpenAIAssistantAgent -- OpenAIAssistantChannel
    class OpenAIAssistantAgent {
        +OpenAIAssistantDefinition Definition
        +bool IsDeleted
        +RunPollingConfiguration Polling
        +Task~OpenAIAssistantAgent~ Create(Kernel kernel, OpenAIServiceConfiguration config, OpenAIAssistantDefinition definition)$
        +AsyncEnumerable~OpenAIAssistantDefinition~ ListDefinitions(OpenAIServiceConfiguration config)$
        +Task~OpenAIAssistantAgent~ Retrieve(Kernel kernel, OpenAIServiceConfiguration config, string id)$
        +Task~string~ CreateThread()
        +Task~string~ CreateThread(OpenAIThreadCreationSettings? settings)
        +Task~bool~ DeleteThread(string threadId)
        +Task AddChatMessage(string threadId, ChatMessageContent message)
        +AsyncEnumerable~ChatMessageContent~ GetThreadMessages(string threadId)
        +Task~bool~ Delete()
        +AsyncEnumerable~ChatMessageContent~ Invoke(string threadId)
        +AsyncEnumerable~ChatMessageContent~ Invoke(string threadId, OpenAIAssistantInvocationSettings? settings)
        #AsyncEnumerable~string~ GetChannelKeys()
        #Task~AgentChannel~ CreateChannel()
    }

    OpenAIAssistantChannel ..> OpenAIAssistantAgent
    class OpenAIAssistantChannel {
        #Task Receive(IReadOnlyList<ChatMessageContent> history)
        #AsyncEnumerable<ChatMessageContent> Invoke(OpenAIAssistantAgent agent)
        #AsyncEnumerable<ChatMessageContent> GetHistory()
    }
